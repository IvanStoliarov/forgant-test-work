$(".percent-toggler").click(function(){$(this).toggleClass("percent-toggler_is-off"),$(this).closest(".data-block").toggleClass("data-block_absolute")}),$("select").customSelect({block:"my-select"}),function(){let e,t,n,c={usd:"https://apiv2.bitcoinaverage.com/indices/global/ticker/BTCUSD",eur:"https://apiv2.bitcoinaverage.com/indices/global/ticker/BTCEUR",rub:"https://apiv2.bitcoinaverage.com/indices/global/ticker/BTCRUB"},a={usd:"https://apiv2.bitcoinaverage.com/indices/global/ticker/ETHUSD",eur:"https://apiv2.bitcoinaverage.com/indices/global/ticker/ETHEUR",rub:"https://apiv2.bitcoinaverage.com/indices/global/ticker/ETHRUB"},r={usd:"https://apiv2.bitcoinaverage.com/indices/global/ticker/LTCUSD",eur:"https://apiv2.bitcoinaverage.com/indices/global/ticker/LTCEUR",rub:"https://apiv2.bitcoinaverage.com/indices/global/ticker/LTCRUB"};function i(e){this.rate=new function(e){let t=new XMLHttpRequest;if(t.open("GET",e,!1),t.send(),200==t.status)return JSON.parse(t.responseText);alert(t.status+": "+t.statusText)}(e)}let l=$("#currency").val();function h(){e=new i(c[l]),t=new i(a[l]),n=new i(r[l])}function s(){let e=$("#eth");e.find(".price__value").html(t.rate.volume.toFixed(2).toLocaleString()),e.find(".price-change-hour").find(".percent-value").html(t.rate.changes.percent.hour),e.find(".price-change-day").find(".percent-value").html(t.rate.changes.percent.day),e.find(".price-change-week").find(".percent-value").html(t.rate.changes.percent.week),e.find(".price-change-month").find(".percent-value").html(t.rate.changes.percent.month),e.find(".price-change-hour").find(".absolute-value").html(t.rate.changes.price.hour),e.find(".price-change-day").find(".absolute-value").html(t.rate.changes.price.day),e.find(".price-change-week").find(".absolute-value").html(t.rate.changes.price.week),e.find(".price-change-month").find(".absolute-value").html(t.rate.changes.price.month)}function o(){let e=$("#ltc");e.find(".price__value").html(n.rate.volume.toFixed(2)),e.find(".price-change-hour").find(".percent-value").html(n.rate.changes.percent.hour),e.find(".price-change-day").find(".percent-value").html(n.rate.changes.percent.day),e.find(".price-change-week").find(".percent-value").html(n.rate.changes.percent.week),e.find(".price-change-month").find(".percent-value").html(n.rate.changes.percent.month),e.find(".price-change-hour").find(".absolute-value").html(n.rate.changes.price.hour),e.find(".price-change-day").find(".absolute-value").html(n.rate.changes.price.day),e.find(".price-change-week").find(".absolute-value").html(n.rate.changes.price.week),e.find(".price-change-month").find(".absolute-value").html(n.rate.changes.price.month)}function u(){let t=$("#btc");t.find(".price__value").html(e.rate.volume.toFixed(2)),t.find(".price-change-hour").find(".percent-value").html(e.rate.changes.percent.hour),t.find(".price-change-day").find(".percent-value").html(e.rate.changes.percent.day),t.find(".price-change-week").find(".percent-value").html(e.rate.changes.percent.week),t.find(".price-change-month").find(".percent-value").html(e.rate.changes.percent.month),t.find(".price-change-hour").find(".absolute-value").html(e.rate.changes.price.hour),t.find(".price-change-day").find(".absolute-value").html(e.rate.changes.price.day),t.find(".price-change-week").find(".absolute-value").html(e.rate.changes.price.week),t.find(".price-change-month").find(".absolute-value").html(e.rate.changes.price.month)}function p(){let e=document.querySelectorAll(".percent-value");for(let t=0;t<e.length;t++){const n=e[t],c=parseInt(n.textContent);c>0?n.innerHTML="+"+c+"%":(n.classList.add("price-change__value_decrease"),n.innerHTML=c+"%")}let t=document.querySelectorAll(".absolute-value");for(let e=0;e<t.length;e++){const n=t[e],c=parseInt(n.textContent);let a;switch(l){case"usd":a="&#36;";break;case"eur":a="&euro;";break;case"rub":a="&#8381;"}c>0?n.innerHTML="+"+c+a:(n.classList.add("price-change__value_decrease"),n.innerHTML=c+a)}}function d(){let e=$(".price__value");switch(l){case"usd":e.each(function(){let e=parseFloat($(this).html());$(this).html(e.toLocaleString("en-US",{style:"currency",currencyDisplay:"symbol",currency:"USD"}).replace(","," "))});break;case"eur":e.each(function(){let e=parseFloat($(this).html());$(this).html(e.toLocaleString("en-US",{style:"currency",currencyDisplay:"symbol",currency:"EUR"}).replace(","," "))});break;case"rub":e.each(function(){let e=parseFloat($(this).html());$(this).html(e.toLocaleString("en-US",{style:"currency",currencyDisplay:"symbol",currency:"RUB"}).replace(","," "))})}}h(),s(),o(),u(),p(),d(),$("#currency").change(function(){l=$(this).val(),h(),s(),o(),u(),p(),d()})}();